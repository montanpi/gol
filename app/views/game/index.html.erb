<%= render "game/matrix", matrix: current_user.matrix %>

<%= button_to "start", update_matrix_path, method: :get, id: "start" %>
<%= button_to "hidden", update_matrix_path, method: :get, id: "hidden" %>
<button id="stop">stop</button>

<%= link_to 'home', root_path %>
<%= button_to "sign out", destroy_user_session_path, method: :delete %>

<script>
document.addEventListener("turbo:load", function() {
  let interval = null;
  document.getElementById('start').addEventListener('click', () => {
    clearInterval(interval);
    interval = setInterval(() => {
        document.getElementById('hidden').click()
    }, 500);
  });
  document.getElementById('stop').addEventListener('click', function() {
    clearInterval(interval);
  });
});
</script>
